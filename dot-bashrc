# echo "#EXTRA [ -e zsh ] && exec zsh"


# Commands that should be applied only for interactive shells.
[[ $- == *i* ]] || return

HISTCONTROL=erasedups:ignoredups:ignorespace:ignoreboth
HISTFILESIZE=100000
HISTIGNORE='cd ..:cd:exit:ll:ls -l:ls:history'
HISTSIZE=10000

export EDITOR="nvim || command -v code >/dev/null 2>&1 && code --wait - || vim"
export VISUAL="nvim || command -v code >/dev/null 2>&1 && code --wait - || vim"
export GOBIN="$HOME/bin"
export GOPRIVATE="*.biscrum.com"
export PATH="$HOME/bin:$PATH"
export XDG_CACHE_HOME="$HOME/.cache"
export XDG_CONFIG_HOME="$HOME/.config"
export XDG_DATA_HOME="$HOME/.local/share"
export XDG_STATE_HOME="$HOME/.local/state"

shopt -s histappend
shopt -s checkwinsize
shopt -s extglob
shopt -s globstar
shopt -s checkjobs

# always use nvim instead of vim
alias v='nvim'
alias vi='nvim'
alias vim='nvim'
alias vidiff='nvim -d'
alias vimdiff='nvim -d'

if [[ ! -v BASH_COMPLETION_VERSINFO ]]; then
  . "/nix/store/0zmgwbn1h48qrk6xn3qdbj2xm8vpk1n7-bash-completion-2.14.0/etc/profile.d/bash_completion.sh"
fi

if [[ :$SHELLOPTS: =~ :(vi|emacs): ]]; then
  eval "$(fzf --bash)"
fi

if [ -e "$HOME/.nix-profile/etc/profile.d/nix.sh" ]; then . "$HOME/.nix-profile/etc/profile.d/nix.sh"; fi                                            # added by Nix installer
# echo "#INIT [ -e zsh ] && exec zsh"
# echo '#INIT [ -d ~/bin ] && export PATH="~/bin:$PATH"'

eval "$(direnv hook bash)"

